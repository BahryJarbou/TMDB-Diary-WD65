function e(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}var t=globalThis,r={},o={},a=t.parcelRequire2e4b;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},t.parcelRequire2e4b=a);var n=a.register;n("7Ugvg",function(t,r){e(t.exports,"fetchSearchMovies",()=>l),e(t.exports,"fetchHotMovies",()=>c),e(t.exports,"fetchPopularMovies",()=>i),e(t.exports,"fetchRecommendations",()=>s),e(t.exports,"IMAGE_BASE",()=>a);let o="https://api.themoviedb.org/3",a="https://image.tmdb.org/t/p/w500",n={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZjYwMGEyYTkxMDhmMTAzN2MzYmRmYjg2NWRjN2FlOSIsIm5iZiI6MTc1MjEzMjA4NC4yNzksInN1YiI6IjY4NmY2OWY0M2MzMDg0YWMzY2U4MDlkZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jomYGTIz91zlRE7ptaJxuK4MI_ooTJU1c12rMVhCk-s"}};async function l(e){try{let t=await fetch(`${o}/search/movie?query=${e.replaceAll(" ","%20")}&language=en-US`,n);return(await t.json()).results}catch(e){console.error("Error fetching popular movies:",e)}}async function c(){try{let e=await fetch(`${o}/movie/now_playing?&language=en-US&page=1`,n);return(await e.json()).results}catch(e){console.error("Error fetching popular movies:",e)}}async function i(){try{let e=await fetch(`${o}/movie/popular?language=en-US&page=1&api_key=ae9417b72a04e975455b2ed2ac2a7001`);return(await e.json()).results}catch(e){return console.error("Error fetching popular movies:",e),[]}}async function s(e){try{let t=await fetch(`https://api.themoviedb.org/3/movie/${e}/recommendations?language=en-US&page=1`,n);return(await t.json()).results}catch(e){console.error("error fetching recommendations",e)}}}),n("bnFIo",function(t,r){e(t.exports,"createCard",()=>l),e(t.exports,"displayMovies",()=>c);var o=a("7Ugvg"),n=a("9Z4le");function l(e){let t=document.createElement("div");t.classList.add("bg-gray-800","rounded-lg","shadow-lg","min-w-[15vw]","relative","z-10");let r=document.createElement("a");r.href=`https://www.themoviedb.org/movie/${e.id}`,r.target="_blank",r.classList.add("block","hover:opacity-80");let a=document.createElement("img");a.src=o.IMAGE_BASE+e.poster_path,a.alt=`${e.title}`,a.classList.add("w-full","rounded-t-lg");let l=document.createElement("div");l.classList.add("p-4");let c=document.createElement("h3");c.innerText=e.title,c.classList.add("text-lg","font-bold","mb-2","truncate","text-nowrap");let i=document.createElement("p");i.innerText=e.overview.slice(0,100)+"...",i.classList.add("text-sm","text-gray-400");let s=document.createElement("p");s.innerText=e.release_date,s.classList.add("text-sm","text-gray-400","mt-2");let d=document.createElement("p");d.innerText=`Rating: ${e.vote_average}`,d.classList.add("text-sm","text-yellow-400");let u=document.createElement("button");return u.innerHTML="&#9734",u.className="bg-transparent hover:bg-blue-400 font-extrabold text-2xl text-black rounded-full bolded justify-self-start absolute right-5 top-5",u.addEventListener("click",()=>{(0,n.addMovieToFavs)(e),alert("Movie added to favorites!")}),r.appendChild(a),l.appendChild(c),l.appendChild(i),l.appendChild(s),l.appendChild(d),t.appendChild(r),t.appendChild(l),t.appendChild(u),t}function c(e,t,r){t.innerHTML="",e.forEach(e=>{let o=l(e);"function"==typeof r&&o.addEventListener("click",()=>r(e)),t.appendChild(o)})}}),n("9Z4le",function(t,r){function o(e){let t=JSON.parse(localStorage.getItem("favs"))||[];t.includes(e)||localStorage.setItem("favs",JSON.stringify([...t,e]))}function a(){return JSON.parse(localStorage.getItem("favs"))||[]}e(t.exports,"addMovieToFavs",()=>o),e(t.exports,"getFavs",()=>a)});var l=a("7Ugvg"),c=a("bnFIo"),i=a("9Z4le");document.querySelector("form");const s=document.querySelector("dialog"),d=document.querySelector("#searchButton"),u=document.querySelector("#closeButton"),p=document.querySelector("#searchInput"),m=document.getElementById("hotMovies"),g=document.querySelector("#scrollLeft"),h=document.querySelector("#scrollRight"),f=document.querySelector("#scrollLeft2"),v=document.querySelector("#scrollRight2"),y=document.querySelector("#recommendations"),E=document.querySelector("#posterTitle"),x=document.querySelector("#posterImage"),M=document.querySelector("#posterDescription");async function w(){console.log("being called");let e=(0,i.getFavs)();if(0===e.length){y.innerText="Add Some movies to your favorites and we'll recommend something for you!",y.className="text-6xl";return}y.innerText="";let t=e[Math.floor(Math.random()*e.length)];(await (0,l.fetchRecommendations)(t.id)).forEach(e=>{let t=(0,c.createCard)(e);y.appendChild(t)})}d.addEventListener("click",async e=>{e.preventDefault(),s.classList.add("grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-2","gap-4"),(await (0,l.fetchSearchMovies)(p.value)).forEach(e=>{let t=(0,c.createCard)(e);s.prepend(t)}),s.showModal()}),u.addEventListener("click",()=>{s.classList.remove("grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-2","gap-4"),s.close()}),g.addEventListener("click",()=>{m.scrollLeft-=800}),h.addEventListener("click",()=>{m.scrollLeft+=800}),f.addEventListener("click",()=>{y.scrollLeft-=800}),v.addEventListener("click",()=>{y.scrollLeft+=800}),window.addEventListener("load",async()=>{let e=await (0,l.fetchHotMovies)();E.innerHTML=e[0].title,M.innerText=e[0].overview,x.src=l.IMAGE_BASE+e[0].poster_path,e.forEach(e=>{let t=(0,c.createCard)(e);m.appendChild(t)})}),window.addEventListener("storage",()=>{console.log("something happened"),w()});
//# sourceMappingURL=TMDB-Diary-WD65.435ff989.js.map

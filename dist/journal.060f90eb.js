function e(e,t,o,a){Object.defineProperty(e,t,{get:o,set:a,enumerable:!0,configurable:!0})}var t=globalThis,o={},a={},n=t.parcelRequire2e4b;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequire2e4b=n);var i=n.register;i("7Ugvg",function(t,o){e(t.exports,"fetchSearchMovies",()=>l),e(t.exports,"fetchHotMovies",()=>s),e(t.exports,"fetchPopularMovies",()=>d),e(t.exports,"IMAGE_BASE",()=>n);let a="https://api.themoviedb.org/3",n="https://image.tmdb.org/t/p/w500",i={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZjYwMGEyYTkxMDhmMTAzN2MzYmRmYjg2NWRjN2FlOSIsIm5iZiI6MTc1MjEzMjA4NC4yNzksInN1YiI6IjY4NmY2OWY0M2MzMDg0YWMzY2U4MDlkZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jomYGTIz91zlRE7ptaJxuK4MI_ooTJU1c12rMVhCk-s"}};async function l(e){try{let t=await fetch(`${a}/search/movie?query=${e.replaceAll(" ","%20")}&language=en-US`,i);return(await t.json()).results}catch(e){console.error("Error fetching popular movies:",e)}}async function s(){try{let e=await fetch(`${a}/movie/now_playing?&language=en-US&page=1`,i);return(await e.json()).results}catch(e){console.error("Error fetching popular movies:",e)}}async function d(){try{let e=await fetch(`${a}/movie/popular?language=en-US&page=1&api_key=ae9417b72a04e975455b2ed2ac2a7001`);return(await e.json()).results}catch(e){return console.error("Error fetching popular movies:",e),[]}}}),i("bnFIo",function(t,o){e(t.exports,"createCard",()=>l),e(t.exports,"displayMovies",()=>s);var a=n("7Ugvg"),i=n("9Z4le");function l(e){let t=document.createElement("div");t.classList.add("bg-gray-800","rounded-lg","shadow-lg","min-w-[15vw]","relative","z-10");let o=document.createElement("a");o.href=`https://www.themoviedb.org/movie/${e.id}`,o.target="_blank",o.classList.add("block","hover:opacity-80");let n=document.createElement("img");n.src=a.IMAGE_BASE+e.poster_path,n.alt=`${e.title}`,n.classList.add("w-full","rounded-t-lg");let l=document.createElement("div");l.classList.add("p-4");let s=document.createElement("h3");s.innerText=e.title,s.classList.add("text-lg","font-bold","mb-2","truncate","text-nowrap");let d=document.createElement("p");console.log(e.overview),d.innerText=e.overview.slice(0,100)+"...",d.classList.add("text-sm","text-gray-400");let r=document.createElement("p");r.innerText=e.release_date,r.classList.add("text-sm","text-gray-400","mt-2");let c=document.createElement("p");c.innerText=`Rating: ${e.vote_average}`,c.classList.add("text-sm","text-yellow-400");let m=document.createElement("button");return m.innerHTML="&#9734",m.className="bg-transparent hover:bg-blue-400 font-extrabold text-2xl text-black rounded-full bolded justify-self-start absolute right-5 top-5",m.addEventListener("click",()=>{(0,i.addMovieToFavs)(e),alert("Movie added to favorites!")}),o.appendChild(n),l.appendChild(s),l.appendChild(d),l.appendChild(r),l.appendChild(c),t.appendChild(o),t.appendChild(l),t.appendChild(m),t}function s(e,t,o){t.innerHTML="",e.forEach(e=>{let a=l(e);"function"==typeof o&&a.addEventListener("click",()=>o(e)),t.appendChild(a)})}}),i("9Z4le",function(t,o){e(t.exports,"addMovieToFavs",()=>a);function a(e){let t=JSON.parse(localStorage.getItem("favs"))||[];t.includes(e)||localStorage.setItem("favs",JSON.stringify([...t,e]))}});var l=n("7Ugvg"),s=n("bnFIo");const d=document.getElementById("movies");let r=[],c=new Set;async function m(){let e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=ae9417b72a04e975455b2ed2ac2a7001&language=en-US"),t=await e.json();return console.log(t.genres),t.genres}function p(e){let t=document.getElementById("movieModal"),o=document.getElementById("modalTitle"),a=document.getElementById("modalDescription"),n=document.getElementById("modalImage"),i=document.getElementById("modalRating"),l=document.getElementById("modalRelease");o.textContent=e.title,a.textContent=e.overview,i.textContent="Rating: "+e.vote_average,l.textContent="Release Date: "+e.release_date;let s=e.backdrop_path||e.poster_path||"";s?n.style.backgroundImage=`url(${"https://image.tmdb.org/t/p/original"+s})`:n.style.backgroundImage="",t.classList.remove("hidden"),t.classList.add("opacity-0","scale-95","pointer-events-none"),t.classList.remove("opacity-100","scale-100","pointer-events-auto"),requestAnimationFrame(()=>{t.classList.remove("opacity-0","scale-95","pointer-events-none"),t.classList.add("opacity-100","scale-100","pointer-events-auto")})}async function u(){let e=await m(),t=document.getElementById("genreFilters");console.log("displayGenre Filter"),e.forEach(e=>{let o=document.createElement("button");o.textContent=e.name,o.className="bg-gray-800 text-white text-sm px-4 py-2 rounded-full hover:bg-red-600 hover:shadow-xl shadow-(color: red) border-gray-400 border-[1px] transition pointer-cursor",o.dataset.genreId=e.id,o.addEventListener("click",()=>{c.has(e.id)?(c.delete(e.id),o.classList.remove("bg-red-600")):(c.add(e.id),o.classList.add("bg-red-600")),g()}),t.appendChild(o)})}function g(){if(0===c.size)return void(0,s.displayMovies)(r,d,p);let e=r.filter(e=>e.genre_ids.some(e=>c.has(e)));(0,s.displayMovies)(e,d,p)}(async function(){let e=await fetch("components/popup.html"),t=await (await fetch("components/notification.html")).text(),o=await e.text();function a(){document.getElementById("movieModal"),document.getElementById("movieModal").classList.remove("opacity-100","scale-100","pointer-events-auto"),document.getElementById("movieModal").classList.add("opacity-0","scale-95","pointer-events-none"),setTimeout(()=>{document.getElementById("movieModal").classList.add("hidden")},300)}document.body.insertAdjacentHTML("beforeend",o),document.body.insertAdjacentHTML("beforeend",t),document.getElementById("closeModal").addEventListener("click",a),document.getElementById("addToFavorite").addEventListener("click",()=>{console.log("added  to favorites"),a(),setTimeout(()=>{let e=document.getElementById("notificationModal"),t=document.getElementById("modalText");t.textContent="Added to Favorites",e.classList.remove("hidden","opacity-0","scale-95"),e.classList.add("opacity-100","scale-100"),setTimeout(()=>{e.classList.add("hidden","opacity-0","scale-95"),e.classList.remove("opacity-100","scale-100"),t.textContent=""},1e3)},1e3)})})(),(0,l.fetchPopularMovies)().then(e=>{r=e,(0,s.displayMovies)(r,d,p)}),m(),document.addEventListener("DOMContentLoaded",()=>{u();let e=document.getElementById("openFilter");e&&e.addEventListener("click",()=>{document.getElementById("genreFilters").classList.toggle("hidden")});let t=document.getElementById("searchInput");t&&t.addEventListener("input",e=>{let t=e.target.value.toLowerCase();if(""===t)return void g();let o=r;c.size>0&&(o=r.filter(e=>e.genre_ids.some(e=>c.has(e))));let a=o.filter(e=>e.title.toLowerCase().includes(t)||e.overview.toLowerCase().includes(t));(0,s.displayMovies)(a,d,p)})});
//# sourceMappingURL=journal.060f90eb.js.map

function e(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}var t=globalThis,r={},a={},o=t.parcelRequire2e4b;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},t.parcelRequire2e4b=o);var l=o.register;l("7Ugvg",function(t,r){e(t.exports,"fetchSearchMovies",()=>n),e(t.exports,"fetchHotMovies",()=>c),e(t.exports,"fetchPopularMovies",()=>i),e(t.exports,"IMAGE_BASE",()=>o);let a="https://api.themoviedb.org/3",o="https://image.tmdb.org/t/p/w500",l={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZjYwMGEyYTkxMDhmMTAzN2MzYmRmYjg2NWRjN2FlOSIsIm5iZiI6MTc1MjEzMjA4NC4yNzksInN1YiI6IjY4NmY2OWY0M2MzMDg0YWMzY2U4MDlkZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jomYGTIz91zlRE7ptaJxuK4MI_ooTJU1c12rMVhCk-s"}};async function n(e){try{let t=await fetch(`${a}/search/movie?query=${e.replaceAll(" ","%20")}&language=en-US`,l);return(await t.json()).results}catch(e){console.error("Error fetching popular movies:",e)}}async function c(){try{let e=await fetch(`${a}/movie/now_playing?&language=en-US&page=1`,l);return(await e.json()).results}catch(e){console.error("Error fetching popular movies:",e)}}async function i(){try{let e=await fetch(`${a}/movie/popular?language=en-US&page=1&api_key=ae9417b72a04e975455b2ed2ac2a7001`);return(await e.json()).results}catch(e){return console.error("Error fetching popular movies:",e),[]}}}),l("bnFIo",function(t,r){e(t.exports,"createCard",()=>n),e(t.exports,"displayMovies",()=>c);var a=o("7Ugvg"),l=o("9Z4le");function n(e){let t=document.createElement("div");t.classList.add("bg-gray-800","rounded-lg","shadow-lg","min-w-[15vw]","relative","z-10");let r=document.createElement("a");r.href=`https://www.themoviedb.org/movie/${e.id}`,r.target="_blank",r.classList.add("block","hover:opacity-80");let o=document.createElement("img");o.src=a.IMAGE_BASE+e.poster_path,o.alt=`${e.title}`,o.classList.add("w-full","rounded-t-lg");let n=document.createElement("div");n.classList.add("p-4");let c=document.createElement("h3");c.innerText=e.title,c.classList.add("text-lg","font-bold","mb-2","truncate","text-nowrap");let i=document.createElement("p");console.log(e.overview),i.innerText=e.overview.slice(0,100)+"...",i.classList.add("text-sm","text-gray-400");let s=document.createElement("p");s.innerText=e.release_date,s.classList.add("text-sm","text-gray-400","mt-2");let d=document.createElement("p");d.innerText=`Rating: ${e.vote_average}`,d.classList.add("text-sm","text-yellow-400");let u=document.createElement("button");return u.innerHTML="&#9734",u.className="bg-transparent hover:bg-blue-400 font-extrabold text-2xl text-black rounded-full bolded justify-self-start absolute right-5 top-5",u.addEventListener("click",()=>{(0,l.addMovieToFavs)(e),alert("Movie added to favorites!")}),r.appendChild(o),n.appendChild(c),n.appendChild(i),n.appendChild(s),n.appendChild(d),t.appendChild(r),t.appendChild(n),t.appendChild(u),t}function c(e,t,r){t.innerHTML="",e.forEach(e=>{let a=n(e);"function"==typeof r&&a.addEventListener("click",()=>r(e)),t.appendChild(a)})}}),l("9Z4le",function(t,r){e(t.exports,"addMovieToFavs",()=>a);function a(e){let t=JSON.parse(localStorage.getItem("favs"))||[];t.includes(e)||localStorage.setItem("favs",JSON.stringify([...t,e]))}});var n=o("7Ugvg"),c=o("bnFIo");document.querySelector("form");const i=document.querySelector("dialog"),s=document.querySelector("#searchButton"),d=document.querySelector("#closeButton"),u=document.querySelector("#searchInput"),p=document.getElementById("hotMovies"),g=document.querySelector("#scrollLeft"),m=document.querySelector("#scrollRight");s.addEventListener("click",async e=>{e.preventDefault(),i.classList.add("grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-2","gap-4"),(await (0,n.fetchSearchMovies)(u.value)).forEach(e=>{let t=(0,c.createCard)(e);i.prepend(t)}),i.showModal()}),d.addEventListener("click",()=>{i.classList.remove("grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-2","gap-4"),i.close()}),g.addEventListener("click",()=>{p.scrollLeft-=800}),m.addEventListener("click",()=>{p.scrollLeft+=800}),window.addEventListener("load",async()=>{(await (0,n.fetchHotMovies)()).forEach(e=>{let t=(0,c.createCard)(e);p.appendChild(t)})});
//# sourceMappingURL=TMDB-Diary-WD65.75bf997d.js.map

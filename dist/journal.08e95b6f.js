function e(e,t,a,o){Object.defineProperty(e,t,{get:a,set:o,enumerable:!0,configurable:!0})}var t=globalThis,a={},o={},n=t.parcelRequire2e4b;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequire2e4b=n);var i=n.register;i("7Ugvg",function(t,a){e(t.exports,"fetchSearchMovies",()=>r),e(t.exports,"fetchHotMovies",()=>s),e(t.exports,"fetchPopularMovies",()=>l),e(t.exports,"fetchRecommendations",()=>d),e(t.exports,"IMAGE_BASE",()=>n);let o="https://api.themoviedb.org/3",n="https://image.tmdb.org/t/p/w500",i={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZjYwMGEyYTkxMDhmMTAzN2MzYmRmYjg2NWRjN2FlOSIsIm5iZiI6MTc1MjEzMjA4NC4yNzksInN1YiI6IjY4NmY2OWY0M2MzMDg0YWMzY2U4MDlkZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jomYGTIz91zlRE7ptaJxuK4MI_ooTJU1c12rMVhCk-s"}};async function r(e){try{let t=await fetch(`${o}/search/movie?query=${e.replaceAll(" ","%20")}&language=en-US`,i);return(await t.json()).results}catch(e){console.error("Error fetching popular movies:",e)}}async function s(){try{let e=await fetch(`${o}/movie/now_playing?&language=en-US&page=1`,i);return(await e.json()).results}catch(e){console.error("Error fetching popular movies:",e)}}async function l(){try{let e=await fetch(`${o}/movie/popular?language=en-US&page=1&api_key=ae9417b72a04e975455b2ed2ac2a7001`);return(await e.json()).results}catch(e){return console.error("Error fetching popular movies:",e),[]}}async function d(e){try{let t=await fetch(`https://api.themoviedb.org/3/movie/${e}/recommendations?language=en-US&page=1`,i);return(await t.json()).results}catch(e){console.error("error fetching recommendations",e)}}}),i("bnFIo",function(t,a){e(t.exports,"createCard",()=>r),e(t.exports,"displayMovies",()=>s);var o=n("7Ugvg"),i=n("9Z4le");function r(e){let t=document.createElement("div");t.classList.add("bg-gray-800","rounded-lg","shadow-lg","min-w-[15vw]","relative","z-10");let a=document.createElement("a");a.href=`https://www.themoviedb.org/movie/${e.id}`,a.target="_blank",a.classList.add("block","hover:opacity-80");let n=document.createElement("img");n.src=o.IMAGE_BASE+e.poster_path,n.alt=`${e.title}`,n.classList.add("w-full","rounded-t-lg");let r=document.createElement("div");r.classList.add("p-4");let s=document.createElement("h3");s.innerText=e.title,s.classList.add("text-lg","font-bold","mb-2","truncate","text-nowrap");let l=document.createElement("p");l.innerText=e.overview.slice(0,100)+"...",l.classList.add("text-sm","text-gray-400");let d=document.createElement("p");d.innerText=e.release_date,d.classList.add("text-sm","text-gray-400","mt-2");let c=document.createElement("p");c.innerText=`Rating: ${e.vote_average}`,c.classList.add("text-sm","text-yellow-400");let m=document.createElement("button");return m.innerHTML="&#9734",m.className="bg-transparent hover:bg-blue-400 font-extrabold text-2xl text-black rounded-full bolded justify-self-start absolute right-5 top-5",m.addEventListener("click",()=>{(0,i.addMovieToFavs)(e),alert("Movie added to favorites!")}),a.appendChild(n),r.appendChild(s),r.appendChild(l),r.appendChild(d),r.appendChild(c),t.appendChild(a),t.appendChild(r),t.appendChild(m),t}function s(e,t,a){t.innerHTML="",e.forEach(e=>{let o=r(e);"function"==typeof a&&o.addEventListener("click",()=>a(e)),t.appendChild(o)})}}),i("9Z4le",function(t,a){function o(e){let t=JSON.parse(localStorage.getItem("favs"))||[];t.includes(e)||localStorage.setItem("favs",JSON.stringify([...t,e]))}function n(){return JSON.parse(localStorage.getItem("favs"))||[]}e(t.exports,"addMovieToFavs",()=>o),e(t.exports,"getFavs",()=>n)});var r=n("7Ugvg"),s=n("bnFIo");const l=document.getElementById("movies");let d=[],c=new Set;async function m(){let e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=ae9417b72a04e975455b2ed2ac2a7001&language=en-US"),t=await e.json();return console.log(t.genres),t.genres}function p(e){let t=document.getElementById("movieModal"),a=document.getElementById("modalTitle"),o=document.getElementById("modalDescription"),n=document.getElementById("modalImage"),i=document.getElementById("modalRating"),r=document.getElementById("modalRelease");a.textContent=e.title,o.textContent=e.overview,i.textContent="Rating: "+e.vote_average,r.textContent="Release Date: "+e.release_date;let s=e.backdrop_path||e.poster_path||"";s?n.style.backgroundImage=`url(${"https://image.tmdb.org/t/p/original"+s})`:n.style.backgroundImage="",t.classList.remove("hidden"),t.classList.add("opacity-0","scale-95","pointer-events-none"),t.classList.remove("opacity-100","scale-100","pointer-events-auto"),requestAnimationFrame(()=>{t.classList.remove("opacity-0","scale-95","pointer-events-none"),t.classList.add("opacity-100","scale-100","pointer-events-auto")})}async function u(){let e=await m(),t=document.getElementById("genreFilters");console.log("displayGenre Filter"),e.forEach(e=>{let a=document.createElement("button");a.textContent=e.name,a.className="bg-gray-800 text-white text-sm px-4 py-2 rounded-full hover:bg-red-600 hover:shadow-xl shadow-(color: red) border-gray-400 border-[1px] transition pointer-cursor",a.dataset.genreId=e.id,a.addEventListener("click",()=>{c.has(e.id)?(c.delete(e.id),a.classList.remove("bg-red-600")):(c.add(e.id),a.classList.add("bg-red-600")),g()}),t.appendChild(a)})}function g(){if(0===c.size)return void(0,s.displayMovies)(d,l,p);let e=d.filter(e=>e.genre_ids.some(e=>c.has(e)));(0,s.displayMovies)(e,l,p)}(async function(){let e=await fetch("components/popup.html"),t=await (await fetch("components/notification.html")).text(),a=await e.text();function o(){document.getElementById("movieModal"),document.getElementById("movieModal").classList.remove("opacity-100","scale-100","pointer-events-auto"),document.getElementById("movieModal").classList.add("opacity-0","scale-95","pointer-events-none"),setTimeout(()=>{document.getElementById("movieModal").classList.add("hidden")},300)}document.body.insertAdjacentHTML("beforeend",a),document.body.insertAdjacentHTML("beforeend",t),document.getElementById("closeModal").addEventListener("click",o),document.getElementById("addToFavorite").addEventListener("click",()=>{console.log("added  to favorites"),o(),setTimeout(()=>{let e=document.getElementById("notificationModal"),t=document.getElementById("modalText");t.textContent="Added to Favorites",e.classList.remove("hidden","opacity-0","scale-95"),e.classList.add("opacity-100","scale-100"),setTimeout(()=>{e.classList.add("hidden","opacity-0","scale-95"),e.classList.remove("opacity-100","scale-100"),t.textContent=""},1e3)},1e3)})})(),(0,r.fetchPopularMovies)().then(e=>{d=e,(0,s.displayMovies)(d,l,p)}),m(),document.addEventListener("DOMContentLoaded",()=>{u();let e=document.getElementById("openFilter");e&&e.addEventListener("click",()=>{document.getElementById("genreFilters").classList.toggle("hidden")});let t=document.getElementById("searchInput");t&&t.addEventListener("input",e=>{let t=e.target.value.toLowerCase();if(""===t)return void g();let a=d;c.size>0&&(a=d.filter(e=>e.genre_ids.some(e=>c.has(e))));let o=a.filter(e=>e.title.toLowerCase().includes(t)||e.overview.toLowerCase().includes(t));(0,s.displayMovies)(o,l,p)})});
//# sourceMappingURL=journal.08e95b6f.js.map
